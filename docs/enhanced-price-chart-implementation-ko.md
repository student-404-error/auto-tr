# ν–¥μƒλ κ°€κ²© μ°¨νΈ κµ¬ν„

## κ°μ”

μ‘μ—… 4 "λ§¤μ λ§μ»¤κ°€ ν¬ν•¨λ κ°€κ²© μ°¨νΈ ν–¥μƒ"μ΄ μ„±κ³µμ μΌλ΅ κµ¬ν„λμ—μµλ‹λ‹¤. μ΄ ν–¥μƒ κΈ°λ¥μ€ κΈ°μ΅΄ κ°€κ²© μ°¨νΈμ— μ‹κ°μ  κ±°λ λ§μ»¤μ™€ μ‹¤μ‹κ°„ μ†μµ μ§€ν‘λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.

## κµ¬ν„λ κΈ°λ¥

### 4.1 λ§μ»¤κ°€ ν¬ν•¨λ ν–¥μƒλ μ°¨νΈ μ»΄ν¬λ„νΈ

**νμΌ:** `frontend/components/EnhancedPriceChart.tsx`

- **μ‹κ°μ  κ±°λ λ§μ»¤**: λ§¤μ λ° λ§¤λ„ μ§€μ μ΄ μ°¨νΈμ— μƒ‰μƒλ³„ μ μΌλ΅ ν‘μ‹λ©λ‹λ‹¤
- **λ§μ»¤ μ ν•**: λ‹¤μ–‘ν• κ±°λ μ ν•μ— λ€ν• μƒ‰μƒκ³Ό λ¨μ–‘:
  - πΆ μ΄λ΅μƒ‰: λ§¤μ λ΅± ν¬μ§€μ…
  - π”µ νλ€μƒ‰: λ§¤μ μ ν¬μ§€μ…  
  - π”΄ λΉ¨κ°„μƒ‰: λ§¤λ„ μ ν¬μ§€μ…
  - π  μ£Όν™©μƒ‰: μΌλ° λ§¤λ„ ν¬μ§€μ…
- **μΈν„°λ™ν‹°λΈ ν΄ν**: λ§μ»¤μ— λ§μ°μ¤λ¥Ό μ¬λ¦¬λ©΄ μƒμ„Έν• κ±°λ μ •λ³΄ ν‘μ‹:
  - κ±°λ μ‹κ°„
  - κ°€κ²© λ° μλ‰
  - λ‹¬λ¬ κΈμ•΅
  - κ±°λ μ‹ νΈ (μλ” κ²½μ°)
  - μμλ£

### 4.2 μ†μµ μ§€ν‘

**κΈ°λ¥:**
- **μ‹¤μ‹κ°„ μ†μµ ν‘μ‹**: μ°¨νΈ μƒλ‹¨μ— ν„μ¬ μ†μµ ν‘μ‹
- **μƒ‰μƒ μ½”λ“ μ§€ν‘**: μμµμ€ μ΄λ΅μƒ‰, μ†μ‹¤μ€ λΉ¨κ°„μƒ‰
- **κΈ°μ¤€μ„ **: 
  - ν‰κ·  λ§¤μκ°€ μ„  (μ£Όν™©μƒ‰ μ μ„ )
  - ν„μ¬κ°€ μ„  (μ†μµμ— λ”°λΌ μ΄λ΅μƒ‰/λΉ¨κ°„μƒ‰)
- **μΆ…ν•© μ§€ν‘**:
  - ν„μ¬ ν¬νΈν΄λ¦¬μ¤ κ°€μΉ
  - μ΄ ν¬μ κΈμ•΅
  - λ―Έμ‹¤ν„ μ†μµ (λ‹¬λ¬ λ° νΌμ„ΌνΈ)
  - 1λ¶„λ§λ‹¤ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ

## API ν†µν•©

### μƒλ΅μ΄ μ—”λ“ν¬μΈνΈ: `/api/trades/markers/{symbol}`

**νμΌ:** `backend/api/routes.py`

μ°¨νΈ μ‹κ°ν™”λ¥Ό μ„ν• κ±°λ λ§μ»¤ λ°ν™:

```json
{
  "symbol": "BTCUSDT",
  "markers": [
    {
      "id": "trade-id",
      "timestamp": "2025-09-08T22:35:36.192801",
      "price": 45000,
      "type": "buy_long",
      "side": "buy",
      "position_type": "long",
      "quantity": 0.001,
      "dollar_amount": 45.0,
      "signal": "test_signal",
      "fees": 0.0
    }
  ]
}
```

### μ—…λ°μ΄νΈλ API μ ν‹Έλ¦¬ν‹°

**νμΌ:** `frontend/utils/api.ts`

μƒλ΅μ΄ λ©”μ„λ“ μ¶”κ°€:
- `getTradeMarkers(symbol)`: μ°¨νΈμ© κ±°λ λ§μ»¤ κ°€μ Έμ¤κΈ°
- `getCurrentPrice(symbol)`: μ†μµ κ³„μ‚°μ„ μ„ν• ν„μ¬κ°€ κ°€μ Έμ¤κΈ°

## ν†µν•©

### λ€μ‹λ³΄λ“ ν†µν•©

**νμΌ:** `frontend/components/Dashboard.tsx`

- `PriceChart`λ¥Ό `EnhancedPriceChart`λ΅ κµμ²΄
- κΈ°λ³Έμ μΌλ΅ λ§μ»¤ ν‘μ‹ μ„¤μ •
- μ‹¬λ³Ό μ„ νƒ μ§€μ› (ν„μ¬ BTCUSDT)

## μ‚¬μ©λ²•

```tsx
import EnhancedPriceChart from './EnhancedPriceChart'

// λ§μ»¤μ™€ ν•¨κ» κΈ°λ³Έ μ‚¬μ©
<EnhancedPriceChart symbol="BTCUSDT" showMarkers={true} />

// λ§μ»¤ μ—†μ΄ (λ κ±°μ‹ λ¨λ“)
<EnhancedPriceChart symbol="BTCUSDT" showMarkers={false} />
```

## μ¶©μ΅±λ μ”κµ¬μ‚¬ν•­

β… **μ”κµ¬μ‚¬ν•­ 2.1**: κ°€κ²© μ›€μ§μ„ κ·Έλν”„μ— λ§¤μ μ§€μ μ΄ λ§μ»¤λ΅ ν‘μ‹λ¨
β… **μ”κµ¬μ‚¬ν•­ 2.2**: μ‹κ°μ  λ§μ»¤κ°€ λ§¤μ/λ§¤λ„/λ΅±/μ ν¬μ§€μ…μ„ λ³΄μ—¬μ¤  
β… **μ”κµ¬μ‚¬ν•­ 2.3**: +/- κΈ°νΈκ°€ μλ” ν„μ¬ μ†μµ μ§€ν‘
β… **μ”κµ¬μ‚¬ν•­ 2.4**: νΈλ²„ ν΄νμ΄ λ§¤μκ°€μ™€ νƒ€μ„μ¤νƒ¬ν”„λ¥Ό ν‘μ‹ν•¨

## κΈ°μ μ  μ„Έλ¶€μ‚¬ν•­

- **μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ**: μ°¨νΈ λ°μ΄ν„°μ™€ μ†μµμ΄ 60μ΄λ§λ‹¤ μƒλ΅κ³ μΉ¨
- **μ„±λ¥**: λ§μ»¤λ” ν„μ¬ μ°¨νΈ μ‹κ°„λ€ λ‚΄μ κ±°λλ§ ν‘μ‹ν•λ„λ΅ ν•„ν„°λ§
- **λ°μ‘ν• λ””μμΈ**: λ‹¤μ–‘ν• ν™”λ©΄ ν¬κΈ°μ— λ§μ¶° μ°¨νΈ μ μ‘
- **μ¤λ¥ μ²λ¦¬**: κ±°λ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  μ μ—†μ„ λ• μ°μ•„ν• ν΄λ°±
- **νƒ€μ… μ•μ „μ„±**: μ μ ν• μΈν„°νμ΄μ¤λ΅ μ™„μ „ν• TypeScript μ§€μ›

## ν–¥ν›„ κ°μ„ μ‚¬ν•­

- λ‹¤μ¤‘ μ•”νΈν™”ν μ‹¬λ³Ό μ§€μ›
- μ‚¬μ©μ μ •μ λ§μ»¤ μ¤νƒ€μΌ
- κ³ κΈ‰ μ†μµ λ¶„μ„
- κ±°λ λ¶„μ„μ„ μ„ν• λ‚΄λ³΄λ‚΄κΈ° κΈ°λ¥

## κµ¬ν„ μ”μ•½

### β… μ‘μ—… 4.1: λ§μ»¤κ°€ ν¬ν•¨λ ν–¥μƒλ μ°¨νΈ μ»΄ν¬λ„νΈ μƒμ„±
- μ‹κ°μ  κ±°λ λ§μ»¤κ°€ μλ” `EnhancedPriceChart.tsx` μ»΄ν¬λ„νΈ μƒμ„±
- λ§¤μ/λ§¤λ„/λ΅±/μ ν¬μ§€μ…μ— λ€ν• λ‹¤μ–‘ν• μƒ‰μƒ λ§μ»¤ μ¶”κ°€
- μƒμ„Έν• κ±°λ μ •λ³΄κ°€ ν¬ν•¨λ μΈν„°λ™ν‹°λΈ νΈλ²„ ν΄ν κµ¬ν„
- κ±°λ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ” API μ—”λ“ν¬μΈνΈ `/api/trades/markers/{symbol}` μ¶”κ°€
- κ±°λ λ§μ»¤μ© μƒλ΅μ΄ λ©”μ„λ“λ΅ API μ ν‹Έλ¦¬ν‹° μ—…λ°μ΄νΈ

### β… μ‘μ—… 4.2: μ°¨νΈμ— μ†μµ μ§€ν‘ μ¶”κ°€  
- μ°¨νΈ μƒλ‹¨μ— μ‹¤μ‹κ°„ μ†μµ ν‘μ‹ μ¶”κ°€
- μƒ‰μƒ μ½”λ“ μ§€ν‘ κµ¬ν„ (μμµμ€ μ΄λ΅μƒ‰, μ†μ‹¤μ€ λΉ¨κ°„μƒ‰)
- ν‰κ·  λ§¤μκ°€μ™€ ν„μ¬κ°€λ¥Ό λ³΄μ—¬μ£Όλ” κΈ°μ¤€μ„  μ¶”κ°€
- μ‹¤μ‹κ°„ μ—…λ°μ΄νΈκ°€ ν¬ν•¨λ μΆ…ν•© μ†μµ μ§€ν‘ ν‘μ‹ μƒμ„±
- κΈ°μ΅΄ API μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν• μ†μµ κ³„μ‚° ν†µν•©

### μ κ³µλ μ£Όμ” κΈ°λ¥:
1. **μ‹κ°μ  κ±°λ λ§μ»¤**: λ‹¤μ–‘ν• κ±°λ μ ν•μ— λ€ν• μƒ‰μƒ κµ¬λ¶„ (λ§¤μ λ΅±, λ§¤λ„ μ λ“±)
2. **μΈν„°λ™ν‹°λΈ ν΄ν**: νΈλ²„ μ‹ μƒμ„Έν• κ±°λ μ •λ³΄
3. **μ‹¤μ‹κ°„ μ†μµ**: μ‹¤μ‹κ°„ μ†μµ κ³„μ‚° λ° ν‘μ‹
4. **κΈ°μ¤€μ„ **: ν‰κ· κ°€ λ° ν„μ¬κ°€ μ§€ν‘
5. **λ€μ‹λ³΄λ“ ν†µν•©**: ν–¥μƒλ μ°¨νΈλ¥Ό μ‚¬μ©ν•λ„λ΅ λ©”μΈ λ€μ‹λ³΄λ“ μ—…λ°μ΄νΈ
6. **API ν†µν•©**: μ μ ν• λ°μ΄ν„° ν•μ‹μ κ±°λ λ§μ»¤μ© μƒλ΅μ΄ μ—”λ“ν¬μΈνΈ

μ΄ κµ¬ν„μ€ λ¨λ“  μ”κµ¬μ‚¬ν•­(2.1, 2.2, 2.3, 2.4)μ„ μ¶©μ΅±ν•λ©° μ‹κ°μ  κ±°λ λ§μ»¤μ™€ μ‹¤μ‹κ°„ μ†μµ μ§€ν‘ λ¨λ‘λ¥Ό ν¬ν•¨ν• κ°€κ²© μ°¨νΈμ ν¬κ΄„μ μΈ ν–¥μƒμ„ μ κ³µν•©λ‹λ‹¤.